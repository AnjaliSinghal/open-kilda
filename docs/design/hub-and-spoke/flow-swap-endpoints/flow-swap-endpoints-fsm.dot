digraph {
    compound=true;
    subgraph cluster_StateMachine {
        label="org.openkilda.wfm.topology.flowhs.fsm.swapendpoints.FlowSwapEndpointsFsm";
        FLOWS_VALIDATED [label="FLOWS_VALIDATED"];
        FINISHED [label="FINISHED"];
        FINISHED_WITH_ERROR [label="FINISHED_WITH_ERROR"];
        SEND_UPDATE_REQUESTS [label="SEND_UPDATE_REQUESTS"];
        RECEIVING_RESPONSES_COMPLETED [label="RECEIVING_RESPONSES_COMPLETED"];
        INITIALIZED [label="INITIALIZED"];
        SEND_REVERT_UPDATE_REQUESTS [label="SEND_REVERT_UPDATE_REQUESTS"];

        FLOWS_VALIDATED -> FINISHED_WITH_ERROR [ label="ERROR"];
        FLOWS_VALIDATED -> SEND_UPDATE_REQUESTS [ label="NEXT"];
        SEND_UPDATE_REQUESTS -> SEND_UPDATE_REQUESTS [ label="ERROR            "];
        SEND_UPDATE_REQUESTS -> SEND_UPDATE_REQUESTS [ label="RESPONSE_RECEIVED"];
        SEND_UPDATE_REQUESTS -> FINISHED_WITH_ERROR [ label="TIMEOUT"];
        SEND_UPDATE_REQUESTS -> RECEIVING_RESPONSES_COMPLETED [ label="NEXT"];
        RECEIVING_RESPONSES_COMPLETED -> FINISHED [ label="NEXT"];
        RECEIVING_RESPONSES_COMPLETED -> SEND_REVERT_UPDATE_REQUESTS [ label="REVERT"];
        INITIALIZED -> FLOWS_VALIDATED [ label="NEXT"];
        SEND_REVERT_UPDATE_REQUESTS -> SEND_REVERT_UPDATE_REQUESTS [ label="ERROR            "];
        SEND_REVERT_UPDATE_REQUESTS -> SEND_REVERT_UPDATE_REQUESTS [ label="RESPONSE_RECEIVED"];
        SEND_REVERT_UPDATE_REQUESTS -> FINISHED_WITH_ERROR [ label="TIMEOUT"];
        SEND_REVERT_UPDATE_REQUESTS -> FINISHED_WITH_ERROR [ label="NEXT"]
    }
}
